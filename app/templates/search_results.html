{% extends 'base.html' %} {% block title %}Search Results for "{{ query }}" |
Shware{% endblock %} {% block content %}
<div class="container mt-5">
  <h2 class="mb-4 text-center">üîç K·∫øt qu·∫£ t√¨m ki·∫øm cho: "{{ query }}"</h2>

  {% if not current_user.is_authenticated %}
  <div class="alert alert-warning text-center fs-5">
    üîí Vui l√≤ng
    <a href="{{ url_for('auth.login') }}" class="alert-link">ƒëƒÉng nh·∫≠p</a> ƒë·ªÉ c√≥
    th·ªÉ t·∫£i file.
  </div>
  {% endif %} {% if results %}
  <div class="file-list mt-4">
    {% for file in results %}
    <div class="file-card">
      <!-- Image Placeholder with overlay for rating -->
      <a
        href="{{ url_for('files.file_detail', doc_id=file.doc_id) }}"
        class="file-image-container"
      >
        <img
          src="{{ file.thumbnail_url }}"
          alt="{{ file.title }}"
          class="file-thumbnail"
        />
        <!-- Rating badge -->
        <div class="rating-badge">
          <i class="fas fa-star"></i> {{ (file.avg_rating * 20) | int }}/5 sao
        </div>
      </a>

      <div class="file-info">
        <h5 class="file-title">{{ file.title }}</h5>
        <div class="file-tags">
          {% if file.tags %} {% for tag in file.tags.split(',') %}
          <span class="file-tag">{{ tag.strip() }}</span>
          {% endfor %} {% endif %}
        </div>
      </div>

      <div class="file-actions">
        <a
          href="{{ url_for('files.file_detail', doc_id=file.doc_id) }}"
          class="file-btn download-btn"
        >
          <i class="fas fa-download"></i> T·∫£i xu·ªëng
        </a>
        <a
          href="{{ url_for('files.file_detail', doc_id=file.doc_id) }}"
          class="file-btn review-btn"
        >
          <i class="fas fa-star"></i> ƒê√°nh gi√°
        </a>
      </div>
    </div>
    {% endfor %}
  </div>
  {% else %} {% if query %}
  <div class="alert alert-info text-center fs-5 mt-4">
    Kh√¥ng t√¨m th·∫•y t·ªáp n√†o ph√π h·ª£p v·ªõi t√¨m ki·∫øm c·ªßa b·∫°n.
  </div>
  {% endif %} {% endif %}
</div>

{# Link the home.css for grid styles #}
<link rel="stylesheet" href="{{ url_for('static', filename='home.css') }}" />
<!-- Font Awesome for icons -->
<link
  rel="stylesheet"
  href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"
/>

{% endblock %}
