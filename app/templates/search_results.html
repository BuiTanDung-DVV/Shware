{% extends 'base.html' %} {% block title %}Search Results for "{{ query }}" |
Shware{% endblock %} {% block content %}
<div class="container mt-5">
  <h2 class="mb-4 text-center">üîç K·∫øt qu·∫£ t√¨m ki·∫øm cho: "{{ query }}"</h2>

  {% if not current_user.is_authenticated %}
  <div class="alert alert-warning text-center fs-5">
    üîí Vui l√≤ng
    <a href="{{ url_for('auth.login') }}" class="alert-link">ƒëƒÉng nh·∫≠p</a> ƒë·ªÉ c√≥
    th·ªÉ t·∫£i file.
  </div>
  {% endif %} {% if results %}
  <div class="file-list mt-4">
    {# Use file-list class for grid layout #} {% for file in results %}
    <a
      href="{{ url_for('files.file_detail', doc_id=file.doc_id) }}"
      class="file-card-link"
    >
      <div class="file-card">
        <div class="file-info">
          <div class="file-header">
            <h5 class="file-title">{{ file.title }}</h5>
            <div class="file-tags">
              {% if file.tags %} {# Assuming file.tags is already a list from
              Firestore #} {% for tag in file.tags %} {% if tag.strip() %}
              <span class="file-tag">{{ tag.strip() }}</span>
              {% endif %} {% endfor %} {% endif %}
            </div>
          </div>
          <p class="file-description" title="{{ file.description }}">
            {{ file.description }}
          </p>
        </div>
        <div class="file-action">
          <span class="file-size-info"
            >{{ file.file_size | format_filesize }}</span
          >
        </div>
      </div>
    </a>
    {% endfor %}
  </div>
  {% else %} {% if query %}
  <div class="alert alert-info text-center fs-5 mt-4">
    Kh√¥ng t√¨m th·∫•y t·ªáp n√†o ph√π h·ª£p v·ªõi t√¨m ki·∫øm c·ªßa b·∫°n.
  </div>
  {% endif %} {% endif %}

  <div class="text-center mt-5">
    <a href="{{ url_for('main.home') }}" class="btn btn-secondary"
      >‚¨ÖÔ∏è Quay l·∫°i Trang ch·ªß</a
    >
  </div>
</div>

{# Link the home.css for grid styles #}
<link rel="stylesheet" href="{{ url_for('static', filename='home.css') }}" />

{% endblock %}
